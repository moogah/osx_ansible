---
# tasks file for emacs

- name: Update homebrew
  homebrew:
    name: git
    state: latest
    update_homebrew: true

- name: Tap
  community.general.homebrew_tap:
    name: homebrew/cask-fonts
    state: present

- name: install nerd fonts
  community.general.homebrew_cask:
    name: font-hack-nerd-font
    state: present
    
- name: install emacs
  community.general.homebrew_cask:
    name: emacs
    state: present
    install_options: force
  
# -------------------------------------------------------------------------------
# Install pdf-tools dependencies
# -------------------------------------------------------------------------------

- name: install poppler
  homebrew:
    name: poppler
    state: present

- name: install automake
  homebrew:
    name: automake
    state: present

- name: install zlib
  homebrew:
    name: zlib
    state: present

- name: install expat
  homebrew:
    name: expat
    state: present

# -------------------------------------------------------------------------------
# Install dirvish dependencies
# -------------------------------------------------------------------------------

- name: install fd
  homebrew:
    name: fd
    state: present

# dirvish will complain about ls without this
- name: install coreutils
  homebrew:
    name: coreutils
    state: present

# -------------------------------------------------------------------------------
# Install ripgrep
# -------------------------------------------------------------------------------

- name: install ripgrep
  homebrew:
    name: ripgrep
    state: present

# -------------------------------------------------------------------------------
# Install python tools
# -------------------------------------------------------------------------------

- name: install autopep8 for python development
  ansible.builtin.pip:
    name: autopep8

# fails if not run as root?
- name: install puppet-lint
  community.general.gem:
    name: puppet-lint
    state: present
